<!DOCTYPE html> 
<html>
<head>
	<title>Page Title</title>
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" href="jquery.mobile-1.3.1.min.css" />
	<script src="jquery-1.7.1.min.js"></script>-->
	<script src="jquery.mobile-1.3.1.min.js"></script>
	<meta name="viewport" content="width=device-width, initial-scale=1">

	
<script>
	//this function empties the list and rebuilds it
function buildList(cars) {
    $('#carslist').empty();
    jQuery.each(cars, function(k, v) {
        //$('#template a[data-val="' + v + '"]').parent().clone(true).appendTo('#carslist');
		//alert(k + ': ' + $(this).text());
        //by cloning the elements with 'true' parameter you keep any events associated with them
    });
    $('#carslist').listview('refresh');
}

	//this function empties the list and rebuilds it
function build(cars) {
    $('#carslist').empty();
    jQuery.each(cars, function(k, v) {
	//alert(k + ': ' + cars[k]);
        //$('#template a[data-val="' + v + '"]').parent().clone(true).appendTo('#carslist');
		//$('#carslist').append(cars[k]);
			var parent = document.getElementById('carslist');
            var listItem = document.createElement('li');
            listItem.setAttribute('id','listitem');
            listItem.innerHTML = "<a href='#'>"+cars[k]+"</a>";
            parent.appendChild(listItem);
        //by cloning the elements with 'true' parameter you keep any events associated with them
    });
    $('#carslist').listview('refresh');
}

$(document).bind('pageinit', function() {
    $('#european').click(function() {
        build(['audi', 'bmw', 'volkswagen']);
    });

    //build the initial list with all the options available
    //buildList(['acura', 'audi', 'bmw', 'lexus', 'nissan', 'toyota', 'volkswagen']);
	buildList(['','','','','','','']);
});
</script>
</head>
<body>
<div data-role="page">

	<div data-role="header">
		<h1>My Title</h1>
	</div><!-- /header -->

	<div data-role="content">	
		
<a href="#" data-role="button" id="european">European</a>
<br/><br/><br/><br/>

<ul data-role="listview" id="carslist">
  <!--<li><a href="#" data-val="acura">Acura</a></li>
  <li><a href="#" data-val="audi">Audi</a></li>
  <li><a href="#" data-val="bmw">BMW</a></li>
  <li><a href="#" data-val="lexus">Lexus</a></li>
  <li><a href="#" data-val="nissan">Nissan</a></li>
  <li><a href="#" data-val="toyota">Toyota</a></li>
  <li><a href="#" data-val="volkswagen">Volkswagen</a></li>!-->
</ul>
	
	</div><!-- /content -->

</div><!-- /page -->

</body>
</html>

